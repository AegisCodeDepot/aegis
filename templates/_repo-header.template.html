{{define "_repo-header"}}
{{$namespaceName := .Repository.Namespace}}
{{$repoName := .Repository.Name}}
<h1 class="header-name" style="margin-bottom: 0">
  <a href="{{getNamespacePath $namespaceName}}">{{$namespaceName}}</a>:<a href="{{getRepoPath $namespaceName $repoName}}">{{$repoName}}</a>
</h1>
<div class="repo-info">
  {{if .Owner}}
  Owner: <a href="/u/{{.Owner}}">{{.Owner}}</a>
  {{end}}
</div>
{{if and .Config (not .Config.PlainMode)}}
<div class="repo-header-nav">
  <a href="{{getRepoPath $namespaceName $repoName}}/setting">Setting</a>
</div>
{{end}}
  {{if gt (len .TypeStr) 0}}
  <div class="header-node">@{{.TypeStr}}:<a href="{{getRootPath $namespaceName $repoName .TypeStr .NodeName}}">{{if eq .TypeStr "commit"}}{{slice .NodeName 0 8}}<span style="font-size:80%">{{slice .NodeName 8 40}}</span>{{if gt (len .NodeName) 40}}<span style="font-size:60%">{{slice .NodeName 40}}</span>{{end}}{{else}}{{.NodeName}}{{end}}</a></div>
  {{end}}
  <div class="header-repo-label-list">
	{{if .RepoLabelList}}
	{{range .RepoLabelList}}
	<span class="header-repo-label">{{.}}</span>
	{{end}}
	{{end}}
  </div>
  <div class="header-clone-address">
	<table class="header-clone-address-table">
	  <tr><td></td><td><b>Clone address (click to copy)</b></td></tr>	  
	  <tr><td><b>HTTP (Read-only):</b></td><td><a onclick="navigator.clipboard.writeText('{{htmlEscape (jsStrEscape .RepoURL)}}')" >{{.RepoURL}}</a></td></tr>
	  <tr><td><b>SSH:</b></td><td><a onclick="navigator.clipboard.writeText('{{htmlEscape (jsStrEscape .RepoSSH)}}')">{{.RepoSSH}}</a></td></tr>
	</table>
  </div>
  <div class="repo-description">{{.Repository.Description}}</div>
{{end}}

